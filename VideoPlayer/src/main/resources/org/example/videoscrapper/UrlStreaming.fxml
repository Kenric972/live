<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.media.MediaView?>

<AnchorPane fx:id="rootPane" stylesheets="@VideoPlayer.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.videoscrapper.Controllers.urlStreaming">

   <!-- Top: URL input and status -->
   <VBox spacing="5" AnchorPane.leftAnchor="10" AnchorPane.rightAnchor="10" AnchorPane.topAnchor="10">
      <TextField fx:id="urlField" maxWidth="Infinity" onAction="#initialize" promptText="Enter your URL here" />
      <Label fx:id="statusLabel" maxWidth="Infinity" text="" />
   </VBox>

   <!-- Video container fills most of the window -->
   <StackPane fx:id="videoContainer" AnchorPane.bottomAnchor="10" AnchorPane.leftAnchor="10" AnchorPane.rightAnchor="10" AnchorPane.topAnchor="70">

      <!-- MediaView -->
      <MediaView fx:id="mediaView" preserveRatio="true" />

      <!-- Progress slider -->
      <Slider fx:id="progressSlider" maxWidth="Infinity" StackPane.alignment="BOTTOM_CENTER" />

      <!-- Control buttons -->
      <HBox alignment="CENTER" spacing="10" StackPane.alignment="BOTTOM_CENTER">
         <Button fx:id="rewind" mnemonicParsing="false" />
         <Button fx:id="playButton" mnemonicParsing="false" onAction="#initialize" />
         <Button fx:id="fastforward" mnemonicParsing="false" />
      </HBox>

      <!-- Settings button -->
      <Button fx:id="settingsButton" onAction="#toggleSettings" styleClass="settings-icon" text="âš™" StackPane.alignment="BOTTOM_RIGHT" />

      <!-- Collapsible settings panel -->
      <VBox fx:id="settingsPanel" managed="false" spacing="10" styleClass="settings-panel" visible="false" StackPane.alignment="BOTTOM_RIGHT">
         <padding>
            <Insets bottom="10" left="10" right="10" top="10" />
         </padding>
         <Label text="Video Quality" />
         <ComboBox fx:id="resolutionSelector" maxWidth="Infinity" />
         <Label text="Skip Time" />
         <TextField fx:id="skipTimeField" maxWidth="80" />
      </VBox>

         <!-- Time label -->
      <Label fx:id="timeLabel" prefHeight="36.0" prefWidth="52.0" text="00:00" StackPane.alignment="BOTTOM_LEFT" />
   </StackPane>
</AnchorPane>
